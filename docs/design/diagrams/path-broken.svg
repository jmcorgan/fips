<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 580 296" font-family="monospace" font-size="13">
  <!-- Background -->
  <rect width="580" height="296" fill="#1a1a2e" rx="4"/>

  <!-- Title -->
  <text x="310" y="26" fill="#e0e0e0" text-anchor="middle" font-size="14" font-weight="bold">PathBroken (0x21) — 36 + 16n bytes payload</text>

  <!-- Row 0 (0–1): msg_type + flags -->
  <text x="50" y="62" fill="#666" font-size="10" text-anchor="end">0–1</text>

  <rect x="55" y="36" width="260" height="52" fill="#2d4a7a" stroke="#4a90d9" stroke-width="1.5" rx="3"/>
  <text x="185" y="58" fill="#e0e0e0" text-anchor="middle" font-size="12" font-weight="bold">msg_type</text>
  <text x="185" y="76" fill="#8ab4f8" text-anchor="middle" font-size="10">0x21</text>

  <rect x="315" y="36" width="260" height="52" fill="#1f1f3a" stroke="#444" stroke-width="1" rx="3"/>
  <text x="445" y="62" fill="#666" text-anchor="middle" font-size="12">flags (reserved)</text>

  <!-- Row 1 (2–17): dest_addr -->
  <text x="50" y="114" fill="#666" font-size="10" text-anchor="end">2–17</text>

  <rect x="55" y="88" width="520" height="52" fill="#4a2d5a" stroke="#b04ad9" stroke-width="1.5" rx="3"/>
  <text x="315" y="110" fill="#e0e0e0" text-anchor="middle" font-size="12" font-weight="bold">dest_addr</text>
  <text x="315" y="128" fill="#d8a0f8" text-anchor="middle" font-size="10">16 bytes — unreachable NodeAddr</text>

  <!-- Row 2 (18–33): reporter -->
  <text x="50" y="166" fill="#666" font-size="10" text-anchor="end">18–33</text>

  <rect x="55" y="140" width="520" height="52" fill="#2d5a5a" stroke="#4ad9d9" stroke-width="1.5" rx="3"/>
  <text x="315" y="162" fill="#e0e0e0" text-anchor="middle" font-size="12" font-weight="bold">reporter</text>
  <text x="315" y="180" fill="#8af8f8" text-anchor="middle" font-size="10">16 bytes — NodeAddr of reporting router</text>

  <!-- Row 3 (34–35): last_coords_count -->
  <text x="50" y="218" fill="#666" font-size="10" text-anchor="end">34–35</text>

  <rect x="55" y="192" width="260" height="52" fill="#4a3d2d" stroke="#d9b04a" stroke-width="1.5" rx="3"/>
  <text x="185" y="222" fill="#e0e0e0" text-anchor="middle" font-size="12" font-weight="bold">last_coords_count</text>

  <!-- Row 4 (36–): last_known_coords -->
  <text x="50" y="264" fill="#666" font-size="10" text-anchor="end">36–</text>

  <rect x="55" y="248" width="520" height="40" fill="#1f1f3a" stroke="#d9904a" stroke-width="1" stroke-dasharray="4,3" rx="3"/>
  <text x="315" y="272" fill="#f8c88a" text-anchor="middle" font-size="11">last_known_coords × n (16 bytes each — stale coords)</text>
</svg>
