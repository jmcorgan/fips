<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 410" font-family="monospace" font-size="13">
  <!-- Background -->
  <rect width="650" height="410" fill="#0d1117" rx="8"/>

  <!-- Title -->
  <text x="325" y="30" fill="#e0e0e0" text-anchor="middle" font-size="15" font-weight="bold">Link Addition &#x2014; D Re-parents to A</text>

  <!-- Section titles -->
  <text x="165" y="58" fill="#909090" text-anchor="middle" font-size="14">Before</text>
  <text x="485" y="58" fill="#909090" text-anchor="middle" font-size="14">After</text>

  <!-- Arrow between halves -->
  <text x="325" y="255" fill="#909090" text-anchor="middle" font-size="24">&#x2192;</text>

  <!-- ======================== -->
  <!-- BEFORE (left side)       -->
  <!-- ======================== -->
  <!-- Root label at y=82, node A at cy=120 (top of circle at 98, 16px below label) -->
  <!-- Vertical chain: A(120) - B(200) - C(280) - D(360) at x=165 -->

  <text x="165" y="82" fill="#d0a040" text-anchor="middle" font-size="10">&#x2605; root</text>

  <!-- Depth labels (left side) -->
  <text x="205" y="124" fill="#606060" font-size="10" text-anchor="start">depth 0</text>
  <text x="205" y="204" fill="#606060" font-size="10" text-anchor="start">depth 1</text>
  <text x="205" y="284" fill="#606060" font-size="10" text-anchor="start">depth 2</text>
  <text x="205" y="364" fill="#606060" font-size="10" text-anchor="start">depth 3</text>

  <!-- Tree links (gold) -->
  <line x1="165" y1="142" x2="165" y2="178" stroke="#d0a040" stroke-width="2.5"/>
  <line x1="165" y1="222" x2="165" y2="258" stroke="#d0a040" stroke-width="2.5"/>
  <line x1="165" y1="302" x2="165" y2="338" stroke="#d0a040" stroke-width="2.5"/>

  <!-- Node A (root) -->
  <circle cx="165" cy="120" r="22" fill="#1a1a2e" stroke="#d0a040" stroke-width="2.5"/>
  <text x="165" y="125" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">A</text>

  <!-- Node B -->
  <circle cx="165" cy="200" r="22" fill="#1a1a2e" stroke="#e0e0e0" stroke-width="2"/>
  <text x="165" y="205" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">B</text>

  <!-- Node C -->
  <circle cx="165" cy="280" r="22" fill="#1a1a2e" stroke="#e0e0e0" stroke-width="2"/>
  <text x="165" y="285" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">C</text>

  <!-- Node D -->
  <circle cx="165" cy="360" r="22" fill="#1a1a2e" stroke="#e0e0e0" stroke-width="2"/>
  <text x="165" y="365" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">D</text>

  <!-- ======================== -->
  <!-- AFTER (right side)       -->
  <!-- ======================== -->
  <!-- A at (485,120), B at (435,200), D at (535,200), C at (435,280) -->

  <text x="485" y="82" fill="#d0a040" text-anchor="middle" font-size="10">&#x2605; root</text>

  <!-- Depth labels (right side) -->
  <text x="595" y="124" fill="#606060" font-size="10" text-anchor="start">depth 0</text>
  <text x="595" y="204" fill="#606060" font-size="10" text-anchor="start">depth 1</text>
  <text x="595" y="284" fill="#606060" font-size="10" text-anchor="start">depth 2</text>
  <text x="595" y="364" fill="#606060" font-size="10" text-anchor="start">depth 3</text>

  <!-- Ghost D at old position (depth 3) -->
  <circle cx="485" cy="360" r="22" fill="none" stroke="#404040" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="485" y="365" fill="#404040" text-anchor="middle" font-weight="bold" font-size="14">D</text>

  <!-- Tree links (gold) -->
  <line x1="473" y1="138" x2="447" y2="182" stroke="#d0a040" stroke-width="2.5"/>
  <line x1="497" y1="138" x2="523" y2="182" stroke="#d0a040" stroke-width="2.5"/>
  <line x1="435" y1="222" x2="435" y2="258" stroke="#d0a040" stroke-width="2.5"/>

  <!-- Dashed line from D new to ghost D old -->
  <line x1="535" y1="222" x2="497" y2="342" stroke="#404040" stroke-width="1" stroke-dasharray="4,3"/>

  <!-- Node A (root) -->
  <circle cx="485" cy="120" r="22" fill="#1a1a2e" stroke="#d0a040" stroke-width="2.5"/>
  <text x="485" y="125" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">A</text>

  <!-- Node B -->
  <circle cx="435" cy="200" r="22" fill="#1a1a2e" stroke="#e0e0e0" stroke-width="2"/>
  <text x="435" y="205" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">B</text>

  <!-- Node D (re-parented to depth 1) -->
  <circle cx="535" cy="200" r="22" fill="#1a1a2e" stroke="#e0e0e0" stroke-width="2"/>
  <text x="535" y="205" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">D</text>

  <!-- Node C -->
  <circle cx="435" cy="280" r="22" fill="#1a1a2e" stroke="#e0e0e0" stroke-width="2"/>
  <text x="435" y="285" fill="#e0e0e0" text-anchor="middle" font-weight="bold" font-size="14">C</text>

  <!-- "new link" annotation on Aâ†’D -->
  <text x="530" y="155" fill="#5a9f5a" text-anchor="start" font-size="9">new link</text>
</svg>
